:root {
    /* Box size: resizes based on screen width */
    --box-size: clamp(20vh, 30vh, 30vh);
    --half-box: calc(var(--box-size) / 2);
    --border-size: clamp(2px, 0.5vw, 5px);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;

}

body {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: black;
    overflow: visible;
    position: relative;
/* scale: 0.6; */
    transition: transform 2s ease
}

/* .track {
    position: relative;
    top: -498vh;     
    width: 400%;
    height: 200%;
 
    pointer-events: none;
} */
.trackball-wrapper {
    position: absolute;
    /* top: 25vh;            */
    /* left: 50vh; */

    aspect-ratio: 1 / 1;

    z-index: 2;
}


.trackball-wrapper .track .trackab {
    position: absolute;
    width: 4600%;
    height: 3600%;
    transform: translate(-30%, -30%) rotateX(9deg) rotateY(-40deg);
    top: 0;
    left: 0;

}

.base {
    position: absolute;
    width: 400%;
    height: 200%;
    transform: translate(-30%, -30%) rotateX(-21deg) rotateY(-49deg);
    top: 562vh;
    left: -14vh;
   
}

.home {
    position: absolute;
    width: 130%;
    height: 240%;
    transform: translate(-30%, -30%) rotateX(0deg) rotateY(-40deg);
    top: 660vh;
    left: 62vh;
}

.project {
    position: absolute;
    width: 130%;
    height: 240%;
    transform: translate(-30%, -30%) rotateX(0deg) rotateY(-40deg);
    top: 683vh;
    left: 122vh;
}

.contact {
    position: relative;
    width: 130%;
    height: 240%;
    transform: translate(-30%, -30%) rotateX(0deg) rotateY(-40deg);
     top: 638vh;
    left: 1vh;

}
 
   
.about {
    position: absolute;
    width: 130%;
    height: 240%;
    transform: translate(-30%, -30%) rotateX(0deg) rotateY(-40deg);
    top: 615vh;
    left: -60vh;
}

.blackboxl {
    position: absolute;
    width: calc(1.4*var(--box-size));
    height: calc(2*var(--box-size));
    background-color: black;
    z-index: 4;

    top: 0;
    left: 0;
}

.blackboxr {
    position: absolute;
    width: calc(10*var(--box-size));
    height: calc(0.4*var(--box-size));
    background-color: black;
    z-index: 4;

    top: 0;
    right: 0;
}

.blackboxh {
    position: absolute;
    width: calc(2*var(--box-size));
    height: calc(3*var(--box-size));
    background-color: black;
    z-index: 4;
    filter: blur(6vh);
    top: 0;
    left: 0;
}

.blackboxw {
    position: absolute;
    width: calc(10*var(--box-size));
    height: calc(1*var(--box-size));
    background-color: black;
    filter: blur(6vh);
    z-index: 4;

    top: 0;
    left: 0;
}

.box {
    position: absolute;
    width: var(--box-size);
    height: var(--box-size);
    transform-style: preserve-3d;

    /* Responsive positioning using translate only */
    transform: rotateX(-30deg) rotateY(40deg);
    animation: rotatefront 1s 1s forwards;


    /* Anchor from top-left */
    top: 0;
    left: 0;
}

.box1 {
    transform: rotateX(0deg) rotateY(0deg);
    animation: rotateback 2s 3s forwards;
}

@keyframes rotatefront {
    0% {
        top: 0;
        left: 0;

    }

    100% {
        top: 25vh;
        left: 50vh;
    }
}

@keyframes rotateback {
    0% {
        top: 0;
        left: 0;
        transform: rotateX(0deg) rotateY(0deg);
        visibility: visible;
    }

    50% {
        top: 0;
        left: 0;
        transform: rotateX(-10deg) rotateY(100deg);
        visibility: visible;
    }

    100% {
        top: -50vh;
        left: 100%;
        transform: rotateX(-10deg) rotateY(100deg);
        visibility: hidden;
    }
}

.box div {
    position: absolute;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;

}

/* 4 side faces */
.box div span {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(#222, #2bf82b);
    opacity: 0.8;
    transform: rotateY(calc(90deg * var(--n))) translateZ(var(--half-box));
    border: var(--border-size) solid green;
    border-radius: 0.3vw;


}


/* Top face */
.top {
    position: absolute;
    width: 100%;
    height: 100%;
    background: #333;
    transform: rotateX(90deg) translateZ(var(--half-box));
    box-shadow:
        0 0 1vw 0.3vw green,
        0 0 10vw 0.5vw greenyellow,
        0 0 10vw 1vw lightgreen,
        0 0 2vw 1.2vw green;
    border-radius: 0.3vw;
}

.bottom {
    bottom: -30vh;
    position: absolute;
    width: 100%;
    height: 100%;
    background: #333;
    transform: rotateX(90deg) translateZ(var(--half-box));
    border-radius: 0.3vw;
}

.top::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    box-shadow:
        0 0 2vw rgba(0, 255, 0, 0.2),
        0 0 10vw rgba(0, 255, 0, 0.4),
        0 0 10vw rgba(0, 255, 0, 0.4),
        0 0 10vw rgba(0, 255, 0, 0.4);
    filter: blur(2vw);

    /* âœ… Push glow just below the box */
    transform: translateZ(calc(-1.2 * var(--box-size)));

    border-radius: 0.3vw;
    pointer-events: none;
}

.ball {
    position: relative;
    width: 20vh;
    height: 20vh;
    border-radius: 50%;
    overflow: hidden;

    transform: rotateX(30deg) rotateY(-40deg);
    animation: balldown 3s 2s linear forwards, ballafterfall 15s 5s linear forwards ;
              /* transform:rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-153vh) translateY(434vh); */
               /* transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-138vh) translateY(565vh); */
/* animation: ballfalltube 1s 2s linear forwards; */
}


.afterslide{
    position: relative;
    top: 0vh;
    left: 0vh;
     transition: 1s linear;
}

@keyframes ballfalltube {
    10%{
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-139vh) translateY(439vh);
    }
   20% {
            transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-130vh) translateY(446vh);
    }
   30% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-121vh) translateY(457vh);
    }
    40%{
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-118vh) translateY(465vh);
    }
   50% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-115vh) translateY(478vh);
    }
    60%{
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-114vh) translateY(490vh);
    }
    70%{
            transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-115vh) translateY(498vh);
    }
   80% {
            transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-123vh) translateY(521vh);
    }
    90%{
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-138vh) translateY(565vh);
    }
    100%{
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-158vh) translateY(628vh);
    }
}



@keyframes ballafterfall {
    3.7% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(144vh) translateY(119vh);
    }

    9.4% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(357vh) translateY(168vh);
    }

    11.1% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(440vh) translateY(194vh);
    }

    12.8% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(478vh) translateY(220vh);
    }

    14.5% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(487vh) translateY(244vh);
    }

    16.2% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(483vh) translateY(256vh);
    }

    17.9% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(470vh) translateY(265vh);
    }

    20.6% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(410vh) translateY(271vh);
    }

    25.3% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(332vh) translateY(254vh);
    }

    30% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(276vh) translateY(245vh);
    }

    32.7% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(229vh) translateY(249vh);
    }

    34.4% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(206vh) translateY(266vh);
    }

    36.1% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(203vh) translateY(284vh);
    }

    37.8% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(221vh) translateY(305vh);
    }

    40% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(238vh) translateY(315vh);
    }

    42.2% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(263vh) translateY(325vh);
    }

    45.9% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(314vh) translateY(340vh);
    }

    50.6% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(383vh) translateY(356vh);
    }

    55.3% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(525vh) translateY(391vh);
    }

    70% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(499vh) translateY(478vh);
    }

    72.7% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(473vh) translateY(468vh);
        /*  add delay to this */
    }

    85.4% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(44vh) translateY(368vh);
    }

    88.8% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-63vh) translateY(360vh);
    }

    90% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-96vh) translateY(367vh);
    }

    92.5% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-124vh) translateY(381vh);
    }

    96.2% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-138vh) translateY(395vh);
    }

    98% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-149vh) translateY(409vh);
    }

    100% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(-153vh) translateY(434vh);
    }
}



@keyframes balldown {
    0% {
        transform: rotateX(30deg) rotateY(-40deg);

        top: 0vh;
    }

    15% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(16vh) translateY(16vh);
    }

    30% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(76vh) translateY(28vh);
    }

    45% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(110vh) translateY(41vh);
    }

    60% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(118vh) translateY(48vh);
    }

    75% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(133vh) translateY(63vh);
    }

    100% {
        transform: rotateX(30deg) rotateY(-40deg) translateZ(20vh) translateX(144vh) translateY(119vh);
    }

}





@keyframes rotate {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.image-layer {
    position: absolute;
    width: 100%;
    height: 100%;

    background-image: url('balldesign.png');
    background-repeat: repeat;
    background-size: 118px 118px;
    background-position: center;

    animation: rotate linear 2s infinite;
    opacity: 0.3;
}

.gradient-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    pointer-events: none;

    background: radial-gradient(circle at 100px 100px, rgba(200, 159, 250, 1));
    mix-blend-mode: soft-light;
}








.stage {
    width: 300px;
    height: 300px;
    -webkit-perspective: 1200px;
    -moz-perspective: 1200px;
    -ms-perspective: 1200px;
    -o-perspective: 1200px;
    perspective: 1200px;
    -webkit-perspective-origin: 50% 50%;
    -moz-perspective-origin: 50% 50%;
    -ms-perspective-origin: 50% 50%;
    -o-perspective-origin: 50% 50%;
    perspective-origin: 50% 50%;
    z-index: 1;


}

.light {
    content: "";
    height: 80%;
    left: 0;
    mix-blend-mode: lighten;
    opacity: var(--lo);
    position: absolute;
    top: 0;
    transform: rotate(-90deg);
    width: 80%;
    z-index: 4;
}

.light span {
    background: #f8f9df;
    border-radius: 50%;
    filter: blur(3vh);
    height: 70%;
    left: 0;
    position: absolute;
    top: 0;
    transform: rotate(-156deg);
    width: 100%;
}

  #viewport {
    width: 1920px;
    height: 1080px;
    position: absolute;
    left: 0;
    top: 0;
    transform-origin: top left;
    overflow: visible;
  }




